<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>Set List Generator</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    body{margin:0;padding:12px;background:#0f0f14;color:#eee;font-family:system-ui,-apple-system,sans-serif;display:flex;justify-content:center;}
    .container{width:100%;max-width:520px;}
    h1{font-size:22px;margin:0 0 8px;}
    .controls{margin-bottom:8px;}
    input,button{width:100%;padding:12px;border-radius:12px;border:none;font-size:15px;}
    button{margin-top:10px;background:#4f46e5;color:white;}
    ul{list-style:none;padding:0;margin:0;}
    li{display:flex;gap:12px;padding:22px;margin-bottom:12px;border-radius:18px;align-items:flex-start;}
    .early{background:#1f2937;} .mid{background:#312e81;} .late{background:#4c1d95;} .last{background:#7c2d12;}
    .stamina-dot{margin-left:6px;font-size:12px;}
    .explore{margin-left:auto;font-size:11px;opacity:0.6;align-self:flex-start;}
    .title{font-size:16px;line-height:1.3;}
    .meta{margin-top:6px;font-size:13px;color:#9ca3af;}
    .number{color:#6b7280;margin-left:6px;}
    .stats{margin-top:6px;font-size:13px;display:flex;gap:12px;align-items:center;}
  </style>
</head>
<body>
<div class="container">
  <h1>ğŸ¤ Set List Generator</h1>
  <div class="controls">
    <input type="number" id="count" min="5" max="15" value="10" />
    <button onclick="generate()">ğŸ² ì„¸íŠ¸ë¦¬ìŠ¤íŠ¸ ìƒì„±</button>
  </div>
  <ul id="list"></ul>
</div>
<script>
const DEFAULT_EMOJI = 'ğŸµ';

/* ===== ì´ˆë°˜ ë‚œì´ë„/ìŠ¤í…Œë¯¸ë‚˜ ì œí•œ ===== */
const EARLY_MAX_COST = 7;
const EARLY_MAX_DIFFICULTY = 2;

/* ===== ì‹¤ì œ ê³¡ ë¦¬ìŠ¤íŠ¸ ===== */
const songs = [
  // ç±³æ´¥ç„å¸«
  {artist:"ç±³æ´¥ç„å¸«",title:"æ­»ç¥",emoji:"ğŸ•¯",number:'52430',difficulty:2,cost:6,recommend:200,isLast:true},
  {artist:"ç±³æ´¥ç„å¸«",title:"ã§ã—ã‚‡ã¾ã—ã‚‡",emoji:"ğŸ¦Œ",number:'mp3',difficulty:3,cost:7,recommend:13,isLast:false},
  {artist:"ç±³æ´¥ç„å¸«",title:"ã¾ã¡ãŒã„ã•ãŒã—",emoji:"ğŸ”",number:52728,difficulty:2,cost:3,recommend:6,isLast:false},
  {artist:"ç±³æ´¥ç„å¸«",title:"ç°è‰²ã¨é’",emoji:"ğŸ”µ",number:28789,difficulty:1,cost:6,recommend:4,isLast:false},
  {artist:"ç±³æ´¥ç„å¸«",title:"ã‚¢ã‚¤ãƒã‚¯ãƒ©ã‚¤ãƒ",emoji:"â˜‚ï¸",number:28607,difficulty:2,cost:6,recommend:4,isLast:false},
  {artist:"ç±³æ´¥ç„å¸«",title:"Flamingo",emoji:"ğŸ¦©",number:28983,difficulty:3,cost:6,recommend:5,isLast:false},
  {artist:"ç±³æ´¥ç„å¸«",title:"Lemon",emoji:"ğŸ‹",number:28822,difficulty:3,cost:7,recommend:13,isLast:true},
  {artist:"ç±³æ´¥ç„å¸«",title:"Loser",emoji:"ğŸ–•",number:28686,difficulty:1,cost:4,recommend:8,isLast:false},
  {artist:"ç±³æ´¥ç„å¸«",title:"Vivi",emoji:"âœ‰ï¸",number:27915,difficulty:2,cost:3,recommend:11,isLast:true},
  {artist:"ç±³æ´¥ç„å¸«",title:"æ„Ÿé›»",emoji:"âš¡ï¸",number:68300,difficulty:2,cost:3,recommend:15,isLast:true},
  {artist:"ç±³æ´¥ç„å¸«",title:"Pale Blue",emoji:"ğŸ’",number:68423,difficulty:5,cost:16,recommend:4,isLast:false},
  {artist:"ç±³æ´¥ç„å¸«",title:"é¦¬ã¨é¹¿",emoji:"ğŸ",number:68094,difficulty:2,cost:6,recommend:9,isLast:false},
  {artist:"ç±³æ´¥ç„å¸«",title:"Kick back",emoji:"âš™ï¸",number:68677,difficulty:3,cost:12,recommend:12,isLast:true},
  {artist:"ç±³æ´¥ç„å¸«",title:"æœˆã‚’è¦‹ã¦ã„ãŸ",emoji:"ğŸŒ•",number:68824,difficulty:4,cost:8,recommend:3,isLast:false},
  {artist:"ç±³æ´¥ç„å¸«",title:"ã•ã‚ˆãƒ¼ãªã‚‰ã¾ãŸã„ã¤ã‹ï¼",emoji:"ğŸ¯",number:52580,difficulty:3,cost:10,recommend:7,isLast:true},
  {artist:"ç±³æ´¥ç„å¸«",title:"Lady",emoji:"ğŸ¦µ",number:68495,difficulty:2,cost:7,recommend:6,isLast:false},
  {artist:"ç±³æ´¥ç„å¸«",title:"Bow and Arrow",emoji:"ğŸ¹",number:52796,difficulty:3,cost:12,recommend:5,isLast:false},
  {artist:"ç±³æ´¥ç„å¸«",title:"ãŒã‚‰ããŸ",emoji:"ğŸ”©",number:52725,difficulty:3,cost:10,recommend:8,isLast:true},
  {artist:"ç±³æ´¥ç„å¸«",title:"Azalea",emoji:"ğŸŒ¹",number:52828,difficulty:3,cost:9,recommend:7,isLast:false},
  {artist:"ç±³æ´¥ç„å¸«",title:"Plazma",emoji:"ğŸš¦",number:52905,difficulty:4,cost:18,recommend:4,isLast:false},
  {artist:"ç±³æ´¥ç„å¸«",title:"æ‰“ä¸ŠèŠ±ç«",emoji:"ğŸ†",number:28750,difficulty:3,cost:17,recommend:9,isLast:false},
  {artist:"ç±³æ´¥ç„å¸«",title:"åœ°çƒå„€",emoji:"ğŸŒ",number:68840,difficulty:3,cost:10,recommend:10,isLast:false},
  {artist:"ç±³æ´¥ç„å¸«",title:"æµ·ã®å¹½éœŠ",emoji:"ğŸŒŠ",number:68019,difficulty:4,cost:19,recommend:10,isLast:false},
  {artist:"ç±³æ´¥ç„å¸«",title:"Orion",emoji:"â­ï¸",number:28660,difficulty:2,cost:7,recommend:9,isLast:false},
  {artist:"ç±³æ´¥ç„å¸«",title:"ã‚´ãƒ¼ã‚´ãƒ¼å¹½éœŠèˆ¹",emoji:"ğŸ‘»",number:27941,difficulty:3,cost:10,recommend:11,isLast:false},
  {artist:"ç±³æ´¥ç„å¸«",title:"æ˜¥é›·",emoji:"ğŸŒ·",number:28795,difficulty:5,cost:15,recommend:3,isLast:false},
  {artist:"ç±³æ´¥ç„å¸«",title:"æ¯æ—¥",emoji:"ğŸ—“",number:68478,difficulty:5,cost:9,recommend:8,isLast:false},
  {artist:"ç±³æ´¥ç„å¸«",title:"MAD HEAD LOVE",emoji:"ğŸ¤",number:28596,difficulty:3,cost:8,recommend:6,isLast:false},
  {artist:"ç±³æ´¥ç„å¸«",title:"ã‚†ã‚ã†ã¤ã¤",emoji:"ğŸ˜´",number:52764,difficulty:3,cost:10,recommend:9,isLast:false},
  {artist:"ç±³æ´¥ç„å¸«",title:"RED OUT",emoji:"ğŸ°",number:52737,difficulty:4,cost:12,recommend:7,isLast:false},
  {artist:"ç±³æ´¥ç„å¸«",title:"ãƒ¡ãƒˆãƒ­ãƒãƒ¼ãƒ ",emoji:"â±ï¸",number:27945,difficulty:1,cost:3,recommend:10,isLast:true},
  {artist:"ç±³æ´¥ç„å¸«",title:"M87",emoji:"ğŸŒŒ",number:52892,difficulty:4,cost:9,recommend:6,isLast:false},
  {artist:"ç±³æ´¥ç„å¸«",title:"IRIS OUT",emoji:"âš«ï¸",number:52959,difficulty:2,cost:10,recommend:15,isLast:false},
  {artist:"ç±³æ´¥ç„å¸«",title:"JANE DOE",emoji:"ğŸ",number:52972,difficulty:3,cost:11,recommend:16,isLast:true},
  {artist:"ç±³æ´¥ç„å¸«",title:"1991",emoji:"â„ï¸",number:52977,difficulty:3,cost:8,recommend:15,isLast:true},
  {artist:"ç±³æ´¥ç„å¸«",title:"LOST CORNER",emoji:"ğŸ›‘",number:52952,difficulty:5,cost:21,recommend:7,isLast:false},
  {artist:"ç±³æ´¥ç„å¸«",title:"NANIMONO",emoji:"ğŸ•º",number:68173,difficulty:2,cost:9,recommend:7,isLast:false},
  {artist:"ç±³æ´¥ç„å¸«",title:"ãƒ¡ãƒ©ãƒ³ã‚³ãƒªãƒ¼ã‚­ãƒƒãƒãƒ³",emoji:"ğŸ½ï¸",number:52997,difficulty:3,cost:8,recommend:19,isLast:false},

  // ãƒãƒ
  {artist:"ãƒãƒ",title:"ãƒ‰ãƒ¼ãƒŠãƒ„ãƒ›ãƒ¼ãƒ«",emoji:"ğŸ©",number:28229,difficulty:3,cost:12,recommend:9,isLast:false},
  {artist:"ãƒãƒ",title:"ç ‚ã®æƒ‘æ˜Ÿ",emoji:"â³ï¸",number:28736,difficulty:4,cost:15,recommend:8,isLast:false},
  {artist:"ãƒãƒ",title:"Mrs.Pumpkinã®æ»‘ç¨½ãªå¤¢",emoji:"ğŸƒ",number:28090,difficulty:3,cost:9,recommend:12,isLast:false},
  {artist:"ãƒãƒ",title:"ãƒãƒˆãƒªãƒ§ã‚·ã‚«",emoji:"ğŸª†",number:28269,difficulty:3,cost:18,recommend:10,isLast:false},
  {artist:"ãƒãƒ",title:"çµãƒ³ãƒ‡é–‹ã‚¤ãƒ†ç¾…åˆ¹ã¨éª¸",emoji:"ğŸ˜¸",number:28290,difficulty:5,cost:20,recommend:6,isLast:false},
  {artist:"ãƒãƒ",title:"ãƒªãƒ³ãƒ",emoji:"ğŸ©¸",number:28282,difficulty:5,cost:25,recommend:1,isLast:false},
  {artist:"ãƒãƒ",title:"ãƒ‘ãƒ³ãƒ€ãƒ’ãƒ¼ãƒ­ãƒ¼",emoji:"ğŸ¼",number:28247,difficulty:5,cost:13,recommend:1,isLast:false},

  // Foorin
  {artist:"Foorin",title:"ãƒ‘ãƒ—ãƒªã‚«",emoji:"ğŸ«‘",number:68089,difficulty:2,cost:6,recommend:8,isLast:false},

  // Mrs. GREEN APPLE
  {artist:"Mrs. GREEN APPLE",title:"ã‚¯ã‚¹ã‚·ã‚­",emoji:"ğŸŒ²",number:52834,difficulty:4,cost:14,recommend:3,isLast:false},
  {artist:"Mrs. GREEN APPLE",title:"åƒ•ã®ã“ã¨",emoji:"ğŸŒŒ",number:68248,difficulty:4,cost:10,recommend:8,isLast:false},
  {artist:"Mrs. GREEN APPLE",title:"æ˜¥æ„",emoji:"ğŸ“œ",number:68207,difficulty:3,cost:4,recommend:13,isLast:false},
  {artist:"Mrs. GREEN APPLE",title:"å¤©å›½",emoji:"âœ¨",number:52924,difficulty:5,cost:27,recommend:11,isLast:false},
  {artist:"Mrs. GREEN APPLE",title:"Soranji",emoji:"â˜ï¸",number:68736,difficulty:5,cost:26,recommend:3,isLast:true},
  {artist:"Mrs. GREEN APPLE",title:"ã‚¢ãƒ»ãƒ—ãƒªã‚ªãƒª",emoji:"ğŸ§ ",number:52856,difficulty:4,cost:14,recommend:12,isLast:false},
  {artist:"Mrs. GREEN APPLE",title:"ã‚±ã‚»ãƒ©ã‚»ãƒ©",emoji:"ğŸŒˆ",number:52844,difficulty:5,cost:12,recommend:5,isLast:false},
  {artist:"Mrs. GREEN APPLE",title:"ãƒ€ãƒ³ã‚¹ãƒ›ãƒ¼ãƒ«",emoji:"ğŸ’ƒ",number:68620,difficulty:4,cost:8,recommend:3,isLast:false},
  {artist:"Mrs. GREEN APPLE",title:"ãƒ©ã‚¤ãƒ©ãƒƒã‚¯",emoji:"ğŸŒ¸",number:68461,difficulty:4,cost:10,recommend:6,isLast:false},
  {artist:"Mrs. GREEN APPLE",title:"é’ã¨å¤",emoji:"ğŸš²",number:68127,difficulty:4,cost:12,recommend:9,isLast:false},

   // Tuki.
  {artist:"Tuki.",title:"æ™©é¤æ­Œ",emoji:"ğŸ´",number:52788,difficulty:3,cost:10,recommend:3,isLast:false},

  // å„ªé‡Œ
  {artist:"å„ªé‡Œ",title:"ãƒ¬ã‚ª",emoji:"ğŸ•",number:52773,difficulty:3,cost:10,recommend:7,isLast:true},
  {artist:"å„ªé‡Œ",title:"æ¡œæ™´",emoji:"ğŸŒ¸",number:52760,difficulty:2,cost:7,recommend:8,isLast:true},
  {artist:"å„ªé‡Œ",title:"ãƒ“ãƒªãƒŸãƒªã‚ªãƒ³",emoji:"ğŸ’°",number:52860,difficulty:3,cost:6,recommend:9,isLast:true},
  {artist:"å„ªé‡Œ",title:"ãƒ™ãƒ†ãƒ«ã‚®ã‚¦ã‚¹",emoji:"âœ¡ï¸",number:68553,difficulty:4,cost:12,recommend:7,isLast:false},

  // æ˜Ÿè¡—ã™ã„ã›ã„
  {artist:"æ˜Ÿè¡—ã™ã„ã›ã„",title:"ãƒ“ãƒ“ãƒ‡ãƒ",emoji:"ğŸ‘ ",number:52998,difficulty:5,cost:18,recommend:2,isLast:false},

  // ã‚¹ã‚­ãƒã‚¹ã‚¤ãƒƒãƒ
  {artist:"ã‚¹ã‚­ãƒã‚¹ã‚¤ãƒƒãƒ",title:"é›«",emoji:"ğŸ’§",number:27692,difficulty:3,cost:10,recommend:10,isLast:true},

  // Queen Bee
  {artist:"Queen Bee",title:"ãƒ¡ãƒ•ã‚£ã‚¹ãƒˆ",emoji:"ğŸŒŸ",number:68830,difficulty:5,cost:28,recommend:4,isLast:false},

  // eill
  {artist:"eill",title:"ãƒ•ã‚£ãƒŠãƒ¼ãƒ¬",emoji:"ğŸª",number:68845,difficulty:4,cost:10,recommend:6,isLast:true},

  // ã“ã£ã¡ã®ã‘ã‚“ã¨
  {artist:"ã“ã£ã¡ã®ã‘ã‚“ã¨",title:"ã¯ã„ã‚ˆã‚ã“ã‚“ã§",emoji:"ğŸ«£",number:52761,difficulty:3,cost:11,recommend:9,isLast:false},

  // ãªã¨ã‚Š
  {artist:"ãªã¨ã‚Š",title:"ãƒ—ãƒ­ãƒãƒ¼ã‚º",emoji:"ğŸš²",number:52402,difficulty:2,cost:5,recommend:12,isLast:false},
  {artist:"ãªã¨ã‚Š",title:"Overdose",emoji:"ğŸ’‰",number:68698,difficulty:1,cost:5,recommend:6,isLast:false},

  // Vaundy
  {artist:"Vaundy",title:"æ€ªç£ã®é¼»å”„",emoji:"ğŸ¶",number:52988,difficulty:3,cost:13,recommend:8,isLast:true},
  {artist:"Vaundy",title:"è¸Šã‚Šå­",emoji:"ğŸ’ƒ",number:68807,difficulty:2,cost:3,recommend:4,isLast:false},
  {artist:"Vaundy",title:"æ±äº¬ãƒ•ãƒ©ãƒƒã‚·ãƒ¥",emoji:"ğŸ“¸",number:52407,difficulty:2,cost:5,recommend:12,isLast:false},
  {artist:"Vaundy",title:"ã‚¿ã‚¤ãƒ ãƒ‘ãƒ©ãƒ‰ãƒƒã‚¯ã‚¹",emoji:"â°",number:68912,difficulty:2,cost:5,recommend:7,isLast:false},
  {artist:"Vaundy", title:"æ‹é¢¨é‚ªã«ã®ã›ã¦", emoji:"ğŸ’­", number:52428, difficulty:3, cost:9, recommend:9, isLast:false},
  
  // Ado
  {artist:"Ado",title:"ã†ã£ã›ã‡ã‚",emoji:"ğŸ“¢",number:68458,difficulty:4,cost:20,recommend:4,isLast:false},
  {artist:"Ado",title:"ã‚®ãƒ©ã‚®ãƒ©",emoji:"âœ¨",number:52716,difficulty:3,cost:17,recommend:4,isLast:false},
  {artist:"Ado", title:"é€†å…‰", emoji:"ğŸ”¦", number:68868, difficulty:5, cost:20, recommend:9, isLast:false},
  {artist:"Ado", title:"ç§ã¯æœ€å¼·", emoji:"ğŸŒŠ", number:52717, difficulty:5, cost:22, recommend:12, isLast:true},

  // back number
  {artist:"back number",title:"ãƒ–ãƒ«ãƒ¼ã‚¢ãƒ³ãƒãƒ¼",emoji:"ğŸ«",number:52942,difficulty:3,cost:6,recommend:10,isLast:false},
  {artist:"back number",title:"æ°´å¹³ç·š",emoji:"ğŸï¸",number:68446,difficulty:2,cost:8,recommend:12,isLast:true},
  {artist:"back number",title:"ãƒ’ãƒ­ã‚¤ãƒ³",emoji:"â›„ï¸",number:27762,difficulty:3,cost:7,recommend:18,isLast:true},

  // å¥¥è‰å­
  {artist:"å¥¥è‰å­",title:"å¤‰ã‚ã‚‰ãªã„ã‚‚ã®",emoji:"ğŸ•§",number:27532,difficulty:2,cost:11,recommend:5,isLast:false},

  // ãƒãƒ«ãƒ¼ãƒ³
  {artist:"ãƒãƒ«ãƒ¼ãƒ³",title:"ã‚·ãƒ£ãƒ«ãƒ«",emoji:"â˜ï¸",number:28700,difficulty:5,cost:30,recommend:2,isLast:true},

  // é¡éŸ³ãƒ¬ãƒ³
  {artist:"é¡éŸ³ãƒ¬ãƒ³",title:"æ‚ªãƒå¬ä½¿",emoji:"ğŸŒ¼",number:26944,difficulty:3,cost:9,recommend:5,isLast:false},

  // å·¡éŸ³ãƒ«ã‚«
  {artist:"HeavenZ", title:"ãã‚ŒãŒã‚ãªãŸã®å¹¸ã›ã¨ã—ã¦ã‚‚", emoji:"ğŸŒ™", number:27911, difficulty:4, cost:7, recommend:7, isLast:true},
  
  // Officialé«­ç”·dism
  {artist:"Officialé«­ç”·dism",title:"å®¿å‘½",emoji:"ğŸŒ ",number:26944,difficulty:3,cost:12,recommend:9,isLast:true},
  {artist:"Officialé«­ç”·dism",title:"Pretender",emoji:"ğŸ¥³",number:68058,difficulty:4,cost:15,recommend:6,isLast:false},

  // æ˜Ÿé‡æº
  {artist:"æ˜Ÿé‡æº",title:"2",emoji:"â™Šï¸",number:52915,difficulty:2,cost:4,recommend:6,isLast:false},
  {artist:"æ˜Ÿé‡æº",title:"æ‹",emoji:"â¤ï¸",number:27982,difficulty:1,cost:5,recommend:8,isLast:true},

  // è…ç”°å°†æš‰
  {artist:"è…ç”°å°†æš‰",title:"ã•ã‚ˆãªã‚‰ã‚¨ãƒªã‚¸ãƒ¼",emoji:"ğŸ‘‹",number:28834,difficulty:2,cost:10,recommend:8,isLast:false},

  // SPYAIR
  {artist:"SPYAIR",title:"ã‚µãƒ ãƒ©ã‚¤ãƒãƒ¼ãƒˆ",emoji:"ğŸ—¡ï¸",number:57527,difficulty:3,cost:13,recommend:9,isLast:false},

  // King Gnu
  {artist:"King Gnu",title:"ç™¾æ—¥",emoji:"âšªï¸",number:68031,difficulty:4,cost:17,recommend:8,isLast:false},
  {artist:"King Gnu",title:"é€†å¤¢",emoji:"ğŸ›Œ",number:68561,difficulty:4,cost:18,recommend:7,isLast:false},

  // Hump Back
  {artist:"Hump Back",title:"æ‹å•“ã€å°‘å¹´ã‚ˆ",emoji:"ğŸ‘¦",number:52756,difficulty:3,cost:16,recommend:6,isLast:true},

  // æ¤åæ—æª
  {artist:"æ¤åæ—æª",title:"ä¸¸ã®å†…ã‚µãƒ‡ã‚£ã‚¹ãƒ†ã‚£ãƒƒã‚¯",emoji:"ğŸ¸",number:25837,difficulty:3,cost:7,recommend:8,isLast:false},

  // imase
  {artist:"imase",title:"NIGHT DANCER",emoji:"ğŸŒ‰",number:68740,difficulty:2,cost:5,recommend:0,isLast:true},

  // é«™æ©‹æ´‹å­
  {artist:"é«™æ©‹æ´‹å­",title:"æ®‹é…·ãªå¤©ä½¿ã®ãƒ†ãƒ¼ã‚¼",emoji:"ğŸ‘¼",number:25246,difficulty:3,cost:9,recommend:4,isLast:false},

  // RADWIMPS
  {artist:"RADWIMPS",title:"ç‹­å¿ƒç—‡",emoji:"ğŸ«€",number:52429,difficulty:4,cost:16,recommend:150,isLast:false},

  // ã‚ã„ã¿ã‚‡ã‚“
  {artist:"ã‚ã„ã¿ã‚‡ã‚“", title:"ãƒãƒªãƒ¼ã‚´ãƒ¼ãƒ«ãƒ‰", emoji:"ğŸŒ¼", number:28927, difficulty:2, cost:7, recommend:8, isLast:false},
  
  // ë°°ì¹´ì¸
  {artist:"ë°°ì¹´ì¸",title:"NoMorE",emoji:"âŒ",number:42999,difficulty:3,cost:10,recommend:6,isLast:false},
  {artist:"ë°°ì¹´ì¸",title:"ì ìƒ‰ë„ì‹œ",emoji:"ğŸŒ†",number:44325,difficulty:4,cost:19,recommend:5,isLast:false},
  {artist:"ë°°ì¹´ì¸",title:"í”¼ì—ë¡œì˜ì¶•ì œ",emoji:"ğŸª",number:82190,difficulty:3,cost:13,recommend:7,isLast:false},
  {artist:"ë°°ì¹´ì¸",title:"ê°€ì• ",emoji:"â›“ï¸",number:83848,difficulty:2,cost:7,recommend:6,isLast:false},

  // 50mang(ì˜ë§)
  {artist:"50mang(ì˜ë§)",title:"ì¥ì‚°ë²”",emoji:"ğŸ…",number:76726,difficulty:4,cost:23,recommend:2,isLast:false},

  // ë‹¬ì˜í•˜ë£¨
  {artist:"ë‹¬ì˜í•˜ë£¨",title:"ì—¼ë¼",emoji:"âš–ï¸",number:75449,difficulty:4,cost:20,recommend:3,isLast:false},
  {artist:"ë‹¬ì˜í•˜ë£¨",title:"ìˆœí˜ˆì£¼ì˜ì",emoji:"ğŸ©¸",number:84327,difficulty:5,cost:22,recommend:2,isLast:false},

  // ë…¸ë¼ì¡°
  {artist:"ë…¸ë¼ì¡°",title:"í˜•(å…„)",emoji:"ğŸ«´",number:31943,difficulty:3,cost:10,recommend:4,isLast:false},

  // ì• ì‰¬ê·¸ë ˆì´
  {artist:"ì• ì‰¬ê·¸ë ˆì´",title:"Hello Mr. My Yesterday",emoji:"ğŸŒ’",number:84695,difficulty:2,cost:6,recommend:6,isLast:false},

  // ì•ˆì˜ˆì€
  {artist:"ì•ˆì˜ˆì€",title:"í™ì—°",emoji:"ğŸŒ³",number:49522,difficulty:3,cost:12,recommend:2,isLast:false},
  {artist:"ì•ˆì˜ˆì€",title:"ìƒì‚¬í™”",emoji:"ğŸ¹",number:48943,difficulty:3,cost:7,recommend:1,isLast:false},

  // ì”ë‚˜ë¹„
  {artist:"ì”ë‚˜ë¹„",title:"ì‚¬ë‘í•˜ê¸´ í–ˆì—ˆë‚˜ìš” ìŠ¤ì³ê°€ëŠ” ì¸ì—°ì´ì—ˆë‚˜ìš”",emoji:"ğŸ–¤",number:53759,difficulty:4,cost:13,recommend:3,isLast:false},

  // ì´ë¬´ì§„
  {artist:"ì´ë¬´ì§„",title:"ì‹ í˜¸ë“±",emoji:"ğŸš¦",number:76890,difficulty:3,cost:7,recommend:5,isLast:false},

  // ìœ¤ì¢…ì‹ 
  {artist:"ìœ¤ì¢…ì‹ ",title:"ì¢‹ë‹ˆ",emoji:"ğŸ",number:49818,difficulty:3,cost:9,recommend:2,isLast:false},

  // ì „ì˜í˜¸
  {artist:"ì „ì˜í˜¸",title:"Butter-Fly",emoji:"ğŸ¦‹",number:81866,difficulty:2,cost:8,recommend:7,isLast:true},

  // AKMU
  {artist:"AKMU",title:"ë‚™í•˜",emoji:"ğŸ‚",number:77503,difficulty:4,cost:12,recommend:2,isLast:false},
  {artist:"AKMU",title:"í›„ë¼ì´ì˜ ê¿ˆ",emoji:"ğŸ¨",number:84443,difficulty:4,cost:11,recommend:2,isLast:false},
  {artist:"AKMU",title:"ë±ƒë…¸ë˜",emoji:"ğŸš¢",number:24185,difficulty:2,cost:5,recommend:9,isLast:false},

  // ì¡°ì •ì„
  {artist:"ì¡°ì •ì„",title:"ì•„ë¡œí•˜",emoji:"â˜ï¸",number:89245,difficulty:3,cost:6,recommend:1,isLast:false},

  // ì²´ë¦¬í•„í„°
  {artist:"ì²´ë¦¬í•„í„°",title:"ë‚­ë§Œê³ ì–‘ì´",emoji:"ğŸ±",number:6093,difficulty:5,cost:25,recommend:3,isLast:false},

  // ì¿¨
  {artist:"ì¿¨",title:"ì• ìƒ",emoji:"ğŸŒ™",number:4509,difficulty:4,cost:17,recommend:2,isLast:false},

  // ìŠ¤í…”ë¼ì¥
  {artist:"ìŠ¤í…”ë¼ì¥",title:"ë¹ŒëŸ°",emoji:"ğŸ’¬",number:89282,difficulty:4,cost:9,recommend:3,isLast:false},

  // íƒœì—°
  {artist:"íƒœì—°",title:"ì‚¬ê³„",emoji:"ğŸ‚",number:53710,difficulty:3,cost:13,recommend:5,isLast:false},

  // ìœ ì •ì„
  {artist:"ìœ ì •ì„",title:"ì§ˆí’ê°€ë„",emoji:"ğŸ­",number:15124,difficulty:2,cost:15,recommend:3,isLast:true},

  // Imagine Dragons
  {artist:"Imagine Dragons",title:"Enemy",emoji:"âš¡",number:23821,difficulty:4,cost:12,recommend:1,isLast:false},

  // Marino
  {artist:"Marino",title:"Im Doing Fine",emoji:"ğŸ“¼",number:73819,difficulty:1,cost:2,recommend:7,isLast:false},

  // Andy Grammer
  {artist:"Andy Grammer",title:"These Tears",emoji:"ğŸ’§",number:79564,difficulty:3,cost:7,recommend:8,isLast:true},

  // Billy Joel
  {artist:"Billy Joel",title:"Piano Man",emoji:"ğŸ¹",number:20010,difficulty:2,cost:7,recommend:5,isLast:false},

  // Sting
  {artist:"Sting",title:"Englishman in New York",emoji:"ğŸ—½",number:7386,difficulty:3,cost:5,recommend:2,isLast:false},

  // Sia
  {artist:"Sia",title:"Snowman",emoji:"â„ï¸",number:23268,difficulty:2,cost:4,recommend:3,isLast:false},

  // Foolâ€™s Garden
  {artist:"Foolâ€™s Garden",title:"Lemon Tree",emoji:"ğŸ‹",number:7761,difficulty:1,cost:2,recommend:1,isLast:false},

  // Zac Efron, Zendaya
  {artist:"Zac Efron, Zendaya",title:"Rewrite The Stars",emoji:"ğŸª",number:23165,difficulty:3,cost:12,recommend:2,isLast:false},

  // Anne-Marie
  {artist:"Anne-Marie",title:"2002",emoji:"ğŸ“…",number:23190,difficulty:3,cost:9,recommend:1,isLast:false}
];


function weightedPick(pool){
  const weights = pool.map(s => {
    const base = (s.recommend ?? 0) + 1;
    // ìŠ¤í…Œë¯¸ë‚˜ 13 ì´ìƒ ê³¡ì€ ê°€ì¤‘ì¹˜ ê°ì†Œ (ì•ë¶€ë¶„ ì–µì œ)
    return s.cost >= 13 ? base * 0.4 : base;
  });
  let r = Math.random() * weights.reduce((a,b)=>a+b,0);
  for(let i=0;i<pool.length;i++){ r -= weights[i]; if(r <= 0) return pool[i]; }
  return pool[pool.length-1];
}

function staminaColor(c){
  if(c <= 7) return '#22c55e';
  if(c <= 14) return '#facc15';
  return '#ef4444';
}

function pushHardSongsBack(list, earlyCount) {
  const early = list.slice(0, earlyCount);
  const rest = list.slice(earlyCount);

  rest.sort((a, b) => {
    const aScore = a.cost >= 13 ? 1 : 0;
    const bScore = b.cost >= 13 ? 1 : 0;
    return aScore - bScore;
  });

  return [...early, ...rest];
}

function generate(){
  const N = Number(document.getElementById('count').value);
  let result = [];

  const lastPool = songs.filter(s => s.isLast);
  const last = weightedPick(lastPool);
  let pool = songs.filter(s => s !== last);

  const earlyCount = Math.ceil(N * 0.2);

  while(result.length < N && pool.length){
    let candidatePool = pool;

    if(result.length < earlyCount){
      const filtered = pool.filter(s => s.cost <= EARLY_MAX_COST && s.difficulty <= EARLY_MAX_DIFFICULTY);
      if(filtered.length) candidatePool = filtered;
    }

    const explore = Math.random() < 0.2;
    const pick = weightedPick(candidatePool);
    pick._explore = explore;
    result.push(pick);
    pool = pool.filter(s => s !== pick);
  }


// ğŸ”´ ì—¬ê¸°ì„œ ì¬ë°°ì¹˜ ì ìš©
result = pushHardSongsBack(result, earlyCount);

render(result);
}

function render(list){
  const ul = document.getElementById('list');
  ul.innerHTML = '';

  const total = list.length;
  const early = Math.ceil(total * 0.2);
  const mid = Math.ceil(total * 0.7);

  list.forEach((s,i)=>{
    if(!s) return;
    const li = document.createElement('li');
    if(i === total-1) li.className='last';
    else if(i < early) li.className='early';
    else if(i < mid) li.className='mid';
    else li.className='late';

    const emoji = s.emoji || DEFAULT_EMOJI;

    li.innerHTML = `
      <div style="font-size:30px">${emoji}</div>
      <div style="flex:1">
        <div class="title">${i+1}. <b>${s.title}</b></div>
        <div class="meta">${s.artist}<span class="number">#${s.number}</span></div>
        <div class="stats">
          <span>ë‚œì´ë„ ${'â˜…'.repeat(s.difficulty)}</span>
          <span>ìŠ¤í…Œë¯¸ë‚˜ ${s.cost}<span class="stamina-dot" style="color:${staminaColor(s.cost)}">â—</span></span>
        </div>
      </div>
      ${s._explore ? '<div class="explore">ğŸ§­</div>' : ''}
    `;
    ul.appendChild(li);
  });
}

console.assert(songs.length > 0, 'ê³¡ ë¦¬ìŠ¤íŠ¸ê°€ ë¹„ì–´ìˆì§€ ì•Šì•„ì•¼ í•¨');
console.assert(songs.every(s => s.title && s.artist), 'ëª¨ë“  ê³¡ì€ ì œëª©ê³¼ ì•„í‹°ìŠ¤íŠ¸ë¥¼ ê°€ì ¸ì•¼ í•¨');
// ìµœì´ˆ 1íšŒ ìë™ ìƒì„±
window.addEventListener('DOMContentLoaded', generate);
</script>
</body>
</html>
